(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{SSKU:function(e,t,a){"use strict";a.r(t),a.d(t,"RatesPeriodModule",(function(){return N}));var n=a("ofXK"),r=a("tyNb"),c=a("wd/R"),o=a("itXk"),i=a("JX91"),s=a("pLZG"),l=a("Kj3r"),b=a("eIep"),f=a("lJxs"),d=a("lSTU"),m=a("Wf04"),p=a("fXoL"),u=a("tk/3");let h=(()=>{class e{constructor(e){this.httpClient=e}getRatesPeriod(e,t,a){return this.httpClient.get(`https://api.exchangeratesapi.io/history?start_at=${t}&end_at=${a}&base=${e}`)}}return e.\u0275fac=function(t){return new(t||e)(p.Yb(u.a))},e.\u0275prov=p.Ib({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var g=a("3Pt+"),S=a("kmnG"),v=a("d3UM"),D=a("iadO"),R=a("FKr1"),O=a("+0xr");function w(e,t){if(1&e&&(p.Sb(0,"mat-option",17),p.xc(1),p.Rb()),2&e){const e=t.$implicit;p.jc("value",e),p.Bb(1),p.zc(" ",e," ")}}function j(e,t){if(1&e&&(p.Sb(0,"th",27),p.xc(1),p.Rb()),2&e){const e=p.ec().$implicit;p.Bb(1),p.zc(" ","date"===e?"Date":e," ")}}function y(e,t){if(1&e&&(p.Sb(0,"td",28),p.xc(1),p.Rb()),2&e){const e=t.$implicit,a=p.ec().$implicit;p.Bb(1),p.zc(" ",e[a]," ")}}function C(e,t){if(1&e&&(p.Sb(0,"div"),p.Qb(1,24),p.vc(2,j,2,1,"th",25),p.vc(3,y,2,1,"td",26),p.Pb(),p.Rb()),2&e){const e=t.$implicit;p.Bb(1),p.kc("matColumnDef",e)}}function B(e,t){1&e&&p.Nb(0,"tr",29)}function k(e,t){1&e&&p.Nb(0,"tr",30)}function x(e,t){if(1&e&&(p.Sb(0,"div",2),p.Sb(1,"table",20),p.vc(2,C,4,1,"div",21),p.vc(3,B,1,0,"tr",22),p.vc(4,k,1,0,"tr",23),p.Rb(),p.Rb()),2&e){const e=p.ec().ngIf,t=p.ec();p.Bb(1),p.jc("dataSource",e),p.Bb(1),p.jc("ngForOf",t.displayedColumns),p.Bb(1),p.jc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),p.Bb(1),p.jc("matRowDefColumns",t.displayedColumns)}}function P(e,t){1&e&&(p.Sb(0,"div",31),p.Sb(1,"h3"),p.Wb(2,32),p.Rb(),p.Rb())}function $(e,t){if(1&e&&(p.Sb(0,"div"),p.vc(1,x,5,5,"div",18),p.vc(2,P,3,0,"ng-template",null,19,p.wc),p.Rb()),2&e){const e=t.ngIf,a=p.mc(3);p.Bb(1),p.jc("ngIf",e.length)("ngIfElse",a)}}const I=[{path:"",component:(()=>{class e{constructor(e,t){this.ratesPeriodService=e,this.formBuilder=t,this.currencyOptions=d.a,this.minDate=new Date(m.a.minDate),this.maxDate=new Date}ngOnInit(){this.form=this.formBuilder.group({base:m.a.defaultCurrency,startDate:new Date,endDate:new Date}),this.rates$=Object(o.a)([this.form.controls.base.valueChanges.pipe(Object(i.a)(m.a.defaultCurrency)),Object(o.a)([this.form.controls.startDate.valueChanges.pipe(Object(s.a)(e=>c(m.a.minDate).isSameOrBefore(e)&&c().isSameOrAfter(e))),this.form.controls.endDate.valueChanges.pipe(Object(s.a)(e=>c(m.a.minDate).isSameOrBefore(e)&&c().isSameOrAfter(e)))]).pipe(Object(l.a)(200),Object(s.a)(([e,t])=>c(t).isSameOrAfter(c(e))))]).pipe(Object(b.a)(([e,t])=>this.ratesPeriodService.getRatesPeriod(e,c(t[0]).format(m.a.dateFormat),c(t[1]).format(m.a.dateFormat)).pipe(Object(f.a)(e=>(this.displayedColumns=["date"].concat(d.a.filter(t=>t!==e.base)),Object.keys(e.rates).sort((e,t)=>e<t?1:t<e?-1:0).map(t=>{const a={date:t};return Object.keys(e.rates[t]).sort((e,t)=>e>t?1:t>e?-1:0).forEach(n=>{a[n]=e.rates[t][n],n!==e.base&&(a[n]=e.rates[t][n])}),a}))))))}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(h),p.Mb(g.c))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-rates-period"]],decls:21,vars:9,consts:function(){return[[1,"content"],[3,"formGroup"],[1,"custom-stuff-center"],["appearance","fill",1,"pr-10"],"Base curreny",["formControlName","base"],["placeholder","Base",3,"value",4,"ngFor","ngForOf"],["appearance","fill"],"Enter a date range",[3,"rangePicker","min","max"],["formControlName","startDate","matStartDate","",6,"placeholder"],["placeholder","Start date"],["formControlName","endDate","matEndDate","",6,"placeholder"],["placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["placeholder","Base",3,"value"],["class","custom-stuff-center",4,"ngIf","ngIfElse"],["noResults",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"custom-stuff-center","no-results"],"No results, try different date"]},template:function(e,t){if(1&e&&(p.Sb(0,"div",0),p.Sb(1,"form",1),p.Sb(2,"div",2),p.Sb(3,"mat-form-field",3),p.Sb(4,"mat-label"),p.Wb(5,4),p.Rb(),p.Sb(6,"mat-select",5),p.vc(7,w,2,2,"mat-option",6),p.Rb(),p.Rb(),p.Sb(8,"mat-form-field",7),p.Sb(9,"mat-label"),p.Wb(10,8),p.Rb(),p.Sb(11,"mat-date-range-input",9),p.Sb(12,"input",10),p.Xb(13,11),p.Rb(),p.Sb(14,"input",12),p.Xb(15,13),p.Rb(),p.Rb(),p.Nb(16,"mat-datepicker-toggle",14),p.Nb(17,"mat-date-range-picker",null,15),p.Rb(),p.Rb(),p.Rb(),p.vc(19,$,4,2,"div",16),p.fc(20,"async"),p.Rb()),2&e){const e=p.mc(18);p.Bb(1),p.jc("formGroup",t.form),p.Bb(6),p.jc("ngForOf",t.currencyOptions),p.Bb(4),p.jc("rangePicker",e)("min",t.minDate)("max",t.maxDate),p.Bb(5),p.jc("for",e),p.Bb(3),p.jc("ngIf",p.gc(20,7,t.rates$))}},directives:[g.o,g.k,g.e,S.b,S.e,v.a,g.j,g.d,n.j,D.a,g.b,D.h,D.g,D.f,S.f,D.b,n.k,R.i,O.j,O.g,O.i,O.c,O.e,O.b,O.d,O.a,O.f,O.h],pipes:[n.b],styles:[".custom-stuff-center[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex}table[_ngcontent-%COMP%]{max-height:600px;overflow-x:auto;width:100%;display:block}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:25px;padding-right:25px;min-width:100px}.no-results[_ngcontent-%COMP%]{margin-top:20px}"]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},imports:[[r.b.forChild(I)],r.b]}),e})();var F=a("qFsG");let N=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},imports:[[n.c,g.f,g.m,M,S.d,F.c,v.b,D.e,R.h,O.k]]}),e})()}}]);