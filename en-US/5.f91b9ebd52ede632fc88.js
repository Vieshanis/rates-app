(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{SSKU:function(e,t,a){"use strict";a.r(t),a.d(t,"RatesPeriodModule",(function(){return _}));var n=a("ofXK"),r=a("tyNb"),c=a("wd/R"),o=a("itXk"),i=a("LRne"),s=a("JX91"),l=a("pLZG"),b=a("Kj3r"),f=a("eIep"),d=a("lJxs"),m=a("JIr8"),p=a("lSTU"),u=a("Wf04"),h=a("fXoL"),g=a("tk/3");let S=(()=>{class e{constructor(e){this.httpClient=e}getRatesPeriod(e,t,a){return this.httpClient.get(`https://api.exchangeratesapi.io/history?start_at=${t}&end_at=${a}&base=${e}`)}}return e.\u0275fac=function(t){return new(t||e)(h.Yb(g.a))},e.\u0275prov=h.Ib({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var v=a("3Pt+"),O=a("kmnG"),R=a("d3UM"),D=a("iadO"),j=a("FKr1"),w=a("+0xr");function y(e,t){if(1&e&&(h.Sb(0,"mat-option",17),h.xc(1),h.Rb()),2&e){const e=t.$implicit;h.jc("value",e),h.Bb(1),h.zc(" ",e," ")}}function C(e,t){if(1&e&&(h.Sb(0,"th",27),h.xc(1),h.Rb()),2&e){const e=h.ec().$implicit;h.Bb(1),h.zc(" ","date"===e?"Date":e," ")}}function B(e,t){if(1&e&&(h.Sb(0,"td",28),h.xc(1),h.Rb()),2&e){const e=t.$implicit,a=h.ec().$implicit;h.Bb(1),h.zc(" ",e[a]," ")}}function k(e,t){if(1&e&&(h.Sb(0,"div"),h.Qb(1,24),h.vc(2,C,2,1,"th",25),h.vc(3,B,2,1,"td",26),h.Pb(),h.Rb()),2&e){const e=t.$implicit;h.Bb(1),h.kc("matColumnDef",e)}}function x(e,t){1&e&&h.Nb(0,"tr",29)}function P(e,t){1&e&&h.Nb(0,"tr",30)}function $(e,t){if(1&e&&(h.Sb(0,"div",2),h.Sb(1,"table",20),h.vc(2,k,4,1,"div",21),h.vc(3,x,1,0,"tr",22),h.vc(4,P,1,0,"tr",23),h.Rb(),h.Rb()),2&e){const e=h.ec().ngIf,t=h.ec();h.Bb(1),h.jc("dataSource",e),h.Bb(1),h.jc("ngForOf",t.displayedColumns),h.Bb(1),h.jc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),h.Bb(1),h.jc("matRowDefColumns",t.displayedColumns)}}function I(e,t){1&e&&(h.Sb(0,"div",31),h.Sb(1,"h3"),h.Wb(2,32),h.Rb(),h.Rb())}function M(e,t){if(1&e&&(h.Sb(0,"div"),h.vc(1,$,5,5,"div",18),h.vc(2,I,3,0,"ng-template",null,19,h.wc),h.Rb()),2&e){const e=t.ngIf,a=h.mc(3);h.Bb(1),h.jc("ngIf",e.length)("ngIfElse",a)}}const F=[{path:"",component:(()=>{class e{constructor(e,t){this.ratesPeriodService=e,this.formBuilder=t,this.currencyOptions=p.a,this.minDate=new Date(u.a.minDate),this.maxDate=new Date}ngOnInit(){this.form=this.formBuilder.group({base:u.a.defaultCurrency,startDate:new Date,endDate:new Date}),this.rates$=Object(o.a)([this.form.controls.base.valueChanges.pipe(Object(s.a)(u.a.defaultCurrency)),Object(o.a)([this.form.controls.startDate.valueChanges.pipe(Object(l.a)(e=>c(u.a.minDate).isSameOrBefore(e)&&c().isSameOrAfter(e))),this.form.controls.endDate.valueChanges.pipe(Object(l.a)(e=>c(u.a.minDate).isSameOrBefore(e)&&c().isSameOrAfter(e)))]).pipe(Object(b.a)(200),Object(l.a)(([e,t])=>c(t).isSameOrAfter(c(e))))]).pipe(Object(f.a)(([e,t])=>this.ratesPeriodService.getRatesPeriod(e,c(t[0]).format(u.a.dateFormat),c(t[1]).format(u.a.dateFormat)).pipe(Object(d.a)(e=>(this.displayedColumns=["date"].concat(p.a.filter(t=>t!==e.base)),Object.keys(e.rates).sort((e,t)=>e<t?1:t<e?-1:0).map(t=>{const a={date:t};return Object.keys(e.rates[t]).sort((e,t)=>e>t?1:t>e?-1:0).forEach(n=>{a[n]=e.rates[t][n],n!==e.base&&(a[n]=e.rates[t][n])}),a}))),Object(m.a)(()=>Object(i.a)([])))))}}return e.\u0275fac=function(t){return new(t||e)(h.Mb(S),h.Mb(v.c))},e.\u0275cmp=h.Gb({type:e,selectors:[["app-rates-period"]],decls:21,vars:9,consts:function(){return[[1,"content"],[3,"formGroup"],[1,"custom-stuff-center"],["appearance","fill",1,"pr-10"],"Base curreny",["formControlName","base"],["placeholder","Base",3,"value",4,"ngFor","ngForOf"],["appearance","fill"],"Enter a date range",[3,"rangePicker","min","max"],["formControlName","startDate","matStartDate","",6,"placeholder"],["placeholder","Start date"],["formControlName","endDate","matEndDate","",6,"placeholder"],["placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["placeholder","Base",3,"value"],["class","custom-stuff-center",4,"ngIf","ngIfElse"],["noResults",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"custom-stuff-center","no-results"],"No results, try different date"]},template:function(e,t){if(1&e&&(h.Sb(0,"div",0),h.Sb(1,"form",1),h.Sb(2,"div",2),h.Sb(3,"mat-form-field",3),h.Sb(4,"mat-label"),h.Wb(5,4),h.Rb(),h.Sb(6,"mat-select",5),h.vc(7,y,2,2,"mat-option",6),h.Rb(),h.Rb(),h.Sb(8,"mat-form-field",7),h.Sb(9,"mat-label"),h.Wb(10,8),h.Rb(),h.Sb(11,"mat-date-range-input",9),h.Sb(12,"input",10),h.Xb(13,11),h.Rb(),h.Sb(14,"input",12),h.Xb(15,13),h.Rb(),h.Rb(),h.Nb(16,"mat-datepicker-toggle",14),h.Nb(17,"mat-date-range-picker",null,15),h.Rb(),h.Rb(),h.Rb(),h.vc(19,M,4,2,"div",16),h.fc(20,"async"),h.Rb()),2&e){const e=h.mc(18);h.Bb(1),h.jc("formGroup",t.form),h.Bb(6),h.jc("ngForOf",t.currencyOptions),h.Bb(4),h.jc("rangePicker",e)("min",t.minDate)("max",t.maxDate),h.Bb(5),h.jc("for",e),h.Bb(3),h.jc("ngIf",h.gc(20,7,t.rates$))}},directives:[v.o,v.k,v.e,O.b,O.e,R.a,v.j,v.d,n.j,D.a,v.b,D.h,D.g,D.f,O.f,D.b,n.k,j.i,w.j,w.g,w.i,w.c,w.e,w.b,w.d,w.a,w.f,w.h],pipes:[n.b],styles:[".custom-stuff-center[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex}table[_ngcontent-%COMP%]{max-height:600px;overflow-x:auto;width:100%;display:block}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:25px;padding-right:25px;min-width:100px}.no-results[_ngcontent-%COMP%]{margin-top:20px}"]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=h.Kb({type:e}),e.\u0275inj=h.Jb({factory:function(t){return new(t||e)},imports:[[r.b.forChild(F)],r.b]}),e})();var z=a("qFsG");let _=(()=>{class e{}return e.\u0275mod=h.Kb({type:e}),e.\u0275inj=h.Jb({factory:function(t){return new(t||e)},imports:[[n.c,v.f,v.m,N,O.d,z.c,R.b,D.e,j.h,w.k]]}),e})()}}]);