(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{SSKU:function(e,t,a){"use strict";a.r(t),a.d(t,"RatesPeriodModule",(function(){return M}));var r=a("ofXK"),n=a("tyNb"),c=a("wd/R"),o=a("itXk"),i=a("JX91"),s=a("pLZG"),l=a("Kj3r"),b=a("eIep"),f=a("lJxs"),d=a("lSTU"),m=a("Wf04"),p=a("fXoL"),u=a("tk/3");let h=(()=>{class e{constructor(e){this.httpClient=e}getRatesPeriod(e,t,a){return this.httpClient.get(`https://api.exchangeratesapi.io/history?start_at=${t}&end_at=${a}&base=${e}`)}}return e.\u0275fac=function(t){return new(t||e)(p.Yb(u.a))},e.\u0275prov=p.Ib({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var g=a("3Pt+"),S=a("kmnG"),w=a("d3UM"),D=a("iadO"),y=a("FKr1"),v=a("+0xr");function O(e,t){if(1&e&&(p.Sb(0,"mat-option",17),p.wc(1),p.Rb()),2&e){const e=t.$implicit;p.jc("value",e),p.Bb(1),p.yc(" ",e," ")}}function R(e,t){if(1&e&&(p.Sb(0,"th",25),p.wc(1),p.Rb()),2&e){const e=p.ec().$implicit;p.Bb(1),p.yc(" ","date"===e?"Date":e," ")}}function j(e,t){if(1&e&&(p.Sb(0,"td",26),p.wc(1),p.Rb()),2&e){const e=t.$implicit,a=p.ec().$implicit;p.Bb(1),p.yc(" ",e[a]," ")}}function C(e,t){if(1&e&&(p.Sb(0,"div"),p.Qb(1,22),p.vc(2,R,2,1,"th",23),p.vc(3,j,2,1,"td",24),p.Pb(),p.Rb()),2&e){const e=t.$implicit;p.Bb(1),p.kc("matColumnDef",e)}}function B(e,t){1&e&&p.Nb(0,"tr",27)}function k(e,t){1&e&&p.Nb(0,"tr",28)}function x(e,t){if(1&e&&(p.Sb(0,"div",2),p.Sb(1,"table",18),p.vc(2,C,4,1,"div",19),p.vc(3,B,1,0,"tr",20),p.vc(4,k,1,0,"tr",21),p.Rb(),p.Rb()),2&e){const e=t.ngIf,a=p.ec();p.Bb(1),p.jc("dataSource",e),p.Bb(1),p.jc("ngForOf",a.displayedColumns),p.Bb(1),p.jc("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),p.Bb(1),p.jc("matRowDefColumns",a.displayedColumns)}}const P=[{path:"",component:(()=>{class e{constructor(e,t){this.ratesPeriodService=e,this.formBuilder=t,this.currencyOptions=d.a,this.minDate=new Date(m.a.minDate),this.maxDate=new Date}ngOnInit(){this.form=this.formBuilder.group({base:m.a.defaultCurrency,startDate:new Date,endDate:new Date}),this.rates$=Object(o.a)([this.form.controls.base.valueChanges.pipe(Object(i.a)(m.a.defaultCurrency)),this.form.controls.startDate.valueChanges.pipe(Object(s.a)(e=>c(m.a.minDate).isSameOrBefore(e)&&c().isSameOrAfter(e))),this.form.controls.endDate.valueChanges.pipe(Object(s.a)(e=>c(m.a.minDate).isSameOrBefore(e)&&c().isSameOrAfter(e)))]).pipe(Object(l.a)(200),Object(s.a)(([e,t,a])=>c(a).isSameOrAfter(c(t))),Object(b.a)(([e,t,a])=>this.ratesPeriodService.getRatesPeriod(e,c(t).format(m.a.dateFormat),c(a).format(m.a.dateFormat)).pipe(Object(f.a)(e=>(this.displayedColumns=["date"].concat(d.a.filter(t=>t!==e.base)),Object.keys(e.rates).sort((e,t)=>e<t?1:t<e?-1:0).map(t=>{const a={date:t};return Object.keys(e.rates[t]).sort((e,t)=>e>t?1:t>e?-1:0).forEach(r=>{a[r]=e.rates[t][r],r!==e.base&&(a[r]=e.rates[t][r])}),a}))))))}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(h),p.Mb(g.c))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-rates-period"]],decls:21,vars:9,consts:function(){return[[1,"content"],[3,"formGroup"],[1,"custom-stuff-center"],["appearance","fill",1,"pr-10"],"B\u0101zes val\u016Bta",["formControlName","base"],["placeholder","Base",3,"value",4,"ngFor","ngForOf"],["appearance","fill"],"Ievadi periodu",[3,"rangePicker","min","max"],["formControlName","startDate","matStartDate","",6,"placeholder"],["placeholder","S\u0101kuma datums"],["formControlName","endDate","matEndDate","",6,"placeholder"],["placeholder","Beigu datums"],["matSuffix","",3,"for"],["picker",""],["class","custom-stuff-center",4,"ngIf"],["placeholder","Base",3,"value"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]]},template:function(e,t){if(1&e&&(p.Sb(0,"div",0),p.Sb(1,"form",1),p.Sb(2,"div",2),p.Sb(3,"mat-form-field",3),p.Sb(4,"mat-label"),p.Wb(5,4),p.Rb(),p.Sb(6,"mat-select",5),p.vc(7,O,2,2,"mat-option",6),p.Rb(),p.Rb(),p.Sb(8,"mat-form-field",7),p.Sb(9,"mat-label"),p.Wb(10,8),p.Rb(),p.Sb(11,"mat-date-range-input",9),p.Sb(12,"input",10),p.Xb(13,11),p.Rb(),p.Sb(14,"input",12),p.Xb(15,13),p.Rb(),p.Rb(),p.Nb(16,"mat-datepicker-toggle",14),p.Nb(17,"mat-date-range-picker",null,15),p.Rb(),p.Rb(),p.Rb(),p.vc(19,x,5,5,"div",16),p.fc(20,"async"),p.Rb()),2&e){const e=p.mc(18);p.Bb(1),p.jc("formGroup",t.form),p.Bb(6),p.jc("ngForOf",t.currencyOptions),p.Bb(4),p.jc("rangePicker",e)("min",t.minDate)("max",t.maxDate),p.Bb(5),p.jc("for",e),p.Bb(3),p.jc("ngIf",p.gc(20,7,t.rates$))}},directives:[g.o,g.k,g.e,S.b,S.e,w.a,g.j,g.d,r.j,D.a,g.b,D.h,D.g,D.f,S.f,D.b,r.k,y.i,v.j,v.g,v.i,v.c,v.e,v.b,v.d,v.a,v.f,v.h],pipes:[r.b],styles:[".custom-stuff-center[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex}table[_ngcontent-%COMP%]{max-height:600px;overflow-x:auto;width:100%;display:block}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:25px;padding-right:25px;min-width:100px}"]}),e})()}];let $=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},imports:[[n.b.forChild(P)],n.b]}),e})();var F=a("qFsG");let M=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},imports:[[r.c,g.f,g.m,$,S.d,F.c,w.b,D.e,y.h,v.k]]}),e})()}}]);